{"version":3,"sources":["../test/specs/amazonBasicTest.js"],"names":["expect","require","describe","before","browser","it","title","searchField","$","submitBtn","findingHighestDiscountOnPage","products","$$","productQuantity","ProductLink","maxDiscount","j","regPrice","discPrice","discount","console","driver"],"mappings":";;eACiBC,OAAO,CAAA,MAAA,C;IAAjBD,M,YAAAA,M;;AAEPE,QAAQ,CAAA,mBAAA,EAAsB,YAAM;AAClCC,EAAAA,MAAM,CAAC,YAAM;AACXC,IAAAA,OAAO,CAAPA,GAAAA,CAAAA,yBAAAA;AADFD,GAAM,CAANA;AAIA,MAAA,KAAA;AAEAE,EAAAA,EAAE,CAAA,+BAAA,EAAkC,YAAM;AACxC,QAAMC,KAAK,GAAX,qFAAA;AACAF,IAAAA,OAAO,CAAPA,SAAAA,CAAkB,YAAA;AAAA,aAAOA,OAAO,CAAPA,QAAAA,OAAP,KAAA;AAAlBA,KAAAA,EAAAA,IAAAA;AAFFC,GAAE,CAAFA;AAKAA,EAAAA,EAAE,CAAA,2BAAA,EAA8B,YAAM;AACpC,QAAME,WAAW,GAAGC,CAAC,CAArB,oCAAqB,CAArB;AACA,QAAMC,SAAS,GAAGD,CAAC,CAAnB,yBAAmB,CAAnB;AACAD,IAAAA,WAAW,CAAXA,QAAAA,CAAAA,QAAAA;AACAE,IAAAA,SAAS,CAATA,KAAAA;AACAL,IAAAA,OAAO,CAAPA,KAAAA,CAAAA,IAAAA;AALFC,GAAE,CAAFA;AAQCA,EAAAA,EAAE,CAAA,uBAAA,EAA0B,YAAM;AAChCD,IAAAA,OAAO,CAAPA,SAAAA,CAAkB,YAAK;AACrB,aAAOI,CAAC,CAADA,4CAAC,CAADA,CAAP,WAAA;AADFJ,KAAAA,EAAAA,IAAAA;AArB+B,GAoB/B,CAAFC,CApBiC,CA0BlC;AACA;AACA;AACA;AACA;;AAEA,MAAIK,4BAA4B,GAAG,SAA/BA,4BAA+B,GAAM;AACvC,QAAMC,QAAQ,GAAGC,EAAE,CAAnB,oBAAmB,CAAnB;AACA,QAAIC,eAAe,GAAGF,QAAQ,CAA9B,MAAA;AACA,QAAIG,WAAW,GAAf,EAAA;AACA,QAAIC,WAAW,GAAf,CAAA;;AACA,SAAI,IAAIC,CAAC,GAAT,CAAA,EAAeA,CAAC,GAAhB,eAAA,EAAoCA,CAApC,EAAA,EAAyC;AACvC,UAAGR,CAAC,CAAA,sBAAA,MAAA,CAAA,CAAA,EAADA,0CAAC,CAAA,CAADA,CAAH,UAAGA,EAAH,EAAoF;AAClF,YAAIS,QAAQ,GAAGT,CAAC,CAAA,sBAAA,MAAA,CAAA,CAAA,EAADA,0CAAC,CAAA,CAADA,CAAAA,OAAAA,KAAf,CAAA;AACA,YAAIU,SAAS,GAAGV,CAAC,CAAA,oBAAA,MAAA,CAAA,CAAA,EAADA,6BAAC,CAAA,CAADA,CAAAA,OAAAA,KAAhB,CAAA;AACA,YAAIW,QAAQ,GAAGD,SAAS,GAATA,QAAAA,GAAf,GAAA;;AACA,YAAGC,QAAQ,GAAX,WAAA,EAA2B;AACzBJ,UAAAA,WAAW,GAAXA,QAAAA;AACAD,UAAAA,WAAW,GAAGN,CAAC,CAAfM,kEAAe,CAAfA;AACD;AACF;AACF;;AAED,WAAA,eAAA;AAjBF,GAAA;;AAmBAT,EAAAA,EAAE,CAAA,8CAAA,EAAiD,YAAM;AAEvDe,IAAAA,OAAO,CAAPA,GAAAA,CAAY,uCAAuCV,4BAAnDU,EAAAA;AAFFf,GAAE,CAAFA;AAKAA,EAAAA,EAAE,CAAA,oEAAA,EAAuE,YAAM;AAChF;AACI;AACCgB,IAAAA,MAAM,CAANA,KAAAA,CAH2E,IAG3EA,EAH2E,CAIhF;AAEA;AANChB,GAAE,CAAFA;AAxDFH,CAAQ,CAARA","sourcesContent":["\nconst {expect} = require('chai');\n\ndescribe(\"Amazon app script\", () => {\n  before(() => {\n    browser.url(\"https://www.amazon.com/\");\n  });\n\n  let pager;\n\n  it('should check the Amazon title', () => {\n    const title = 'Amazon.com: Online Shopping for Electronics, Apparel, Computers, Books, DVDs & more';\n    browser.waitUntil(() => (browser.getTitle() === title ), 3000);\n  });\n\n  it('should search for product', () => {\n    const searchField = $('//input[@id=\"twotabsearchtextbox\"]');\n    const submitBtn = $('//input[@type=\"submit\"]');\n    searchField.setValue('pencil');\n    submitBtn.click();\n    browser.pause(3000);\n  });\n\n   it('should wait for pager', () => {\n     browser.waitUntil(() =>{\n       return $('//span[@class=\"a-color-state a-text-bold\"]').isDisplayed\n     }, 3000);\n   });\n\n  // it('should sort searched products by decreasing price', () => {\n  //   const sortDropDown = $('//select[@id=\"s-result-sort-select\"]');\n  //   sortDropDown.selectByVisibleText('Price: High to Low');\n  //   console.log(sortDropDown.getValue());\n  // });\n\n  let findingHighestDiscountOnPage = () => {\n    const products = $$('//div[@data-index]');\n    let productQuantity = products.length;\n    let ProductLink = '';\n    let maxDiscount = 0;\n    for(let j = 0; j < productQuantity; j++ ){\n      if($(`//div[@data-index][${j}]//span[@class=\"a-price a-text-price\"]`).isExisting()) {\n        let regPrice = $(`//div[@data-index][${j}]//span[@class=\"a-price a-text-price\"]`).getText() * 1;\n        let discPrice = $(`div[@data-index][${j}]//span[@class=\"a-price\"]`).getText() * 1;\n        let discount = discPrice / regPrice * 100;\n        if(discount > maxDiscount) {\n          maxDiscount = discount;\n          ProductLink = $('//div[@data-index][${j}]//a[class=\"a-link-normal a-text-normal\"]');\n        }\n      }\n    }\n\n    return productQuantity;\n  }\n  it('should find quantity of products on the page', () => {\n\n    console.log(\"Quantity products on the page 1 : \" + findingHighestDiscountOnPage());\n  });\n\n  it('should go through pagination from firs to last search result pages', () => {\n //   const nextPager = 1;\n     // $['//ul[@class=\"a-pagination\"]//a[contains(text(), \"Next\")]'];\n      driver.pause(5000);\n //   while(nextPager.isExisting()){\n\n //   }\n  });\n\n});"],"file":"amazonBasicTest.js"}